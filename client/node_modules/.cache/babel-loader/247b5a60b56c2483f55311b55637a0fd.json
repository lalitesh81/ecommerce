{"ast":null,"code":"import { getUserById, updatePersonalInformationFetch, getOrderByUser, updatePassword } from \"./FetchApi\";\nexport const logout = () => {\n  localStorage.removeItem(\"jwt\");\n  localStorage.removeItem(\"cart\");\n  localStorage.removeItem(\"wishList\");\n  window.location.href = \"/\";\n};\nexport const fetchData = async dispatch => {\n  dispatch({\n    type: \"loading\",\n    payload: true\n  });\n  let userId = JSON.parse(localStorage.getItem(\"jwt\")) ? JSON.parse(localStorage.getItem(\"jwt\")).user._id : \"\";\n\n  try {\n    let responseData = await getUserById(userId);\n    setTimeout(() => {\n      if (responseData && responseData.User) {\n        dispatch({\n          type: \"userDetails\",\n          payload: responseData.User\n        });\n        dispatch({\n          type: \"loading\",\n          payload: false\n        });\n      }\n    }, 500);\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const fetchOrderByUser = async dispatch => {\n  dispatch({\n    type: \"loading\",\n    payload: true\n  });\n  let userId = JSON.parse(localStorage.getItem(\"jwt\")) ? JSON.parse(localStorage.getItem(\"jwt\")).user._id : \"\";\n\n  try {\n    let responseData = await getOrderByUser(userId);\n    setTimeout(() => {\n      if (responseData && responseData.Order) {\n        console.log(responseData);\n        dispatch({\n          type: \"OrderByUser\",\n          payload: responseData.Order\n        });\n        dispatch({\n          type: \"loading\",\n          payload: false\n        });\n      }\n    }, 500);\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const updatePersonalInformationAction = async (dispatch, fData) => {\n  const formData = {\n    uId: fData.id,\n    name: fData.name,\n    phoneNumber: fData.phone\n  };\n  dispatch({\n    type: \"loading\",\n    payload: true\n  });\n\n  try {\n    let responseData = await updatePersonalInformationFetch(formData);\n    setTimeout(() => {\n      if (responseData && responseData.success) {\n        dispatch({\n          type: \"loading\",\n          payload: false\n        });\n        fetchData(dispatch);\n      }\n    }, 500);\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const handleChangePassword = async (fData, setFdata, dispatch) => {\n  if (!fData.newPassword || !fData.oldPassword || !fData.confirmPassword) {\n    setFdata({ ...fData,\n      error: \"Please provide your all password and a new password\"\n    });\n  } else if (fData.newPassword !== fData.confirmPassword) {\n    setFdata({ ...fData,\n      error: \"Password does't match\"\n    });\n  } else {\n    const formData = {\n      uId: JSON.parse(localStorage.getItem(\"jwt\")).user._id,\n      oldPassword: fData.oldPassword,\n      newPassword: fData.newPassword\n    };\n    dispatch({\n      type: \"loading\",\n      payload: true\n    });\n\n    try {\n      let responseData = await updatePassword(formData);\n\n      if (responseData && responseData.success) {\n        setFdata({ ...fData,\n          success: responseData.success,\n          error: \"\",\n          oldPassword: \"\",\n          newPassword: \"\",\n          confirmPassword: \"\"\n        });\n        dispatch({\n          type: \"loading\",\n          payload: false\n        });\n      } else if (responseData.error) {\n        dispatch({\n          type: \"loading\",\n          payload: false\n        });\n        setFdata({ ...fData,\n          error: responseData.error,\n          success: \"\",\n          oldPassword: \"\",\n          newPassword: \"\",\n          confirmPassword: \"\"\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};","map":{"version":3,"names":["getUserById","updatePersonalInformationFetch","getOrderByUser","updatePassword","logout","localStorage","removeItem","window","location","href","fetchData","dispatch","type","payload","userId","JSON","parse","getItem","user","_id","responseData","setTimeout","User","error","console","log","fetchOrderByUser","Order","updatePersonalInformationAction","fData","formData","uId","id","name","phoneNumber","phone","success","handleChangePassword","setFdata","newPassword","oldPassword","confirmPassword"],"sources":["C:/Users/Lalitesh Nohwar/Desktop/MERN_Stack_Project_Ecommerce_Hayroo/client/src/components/shop/dashboardUser/Action.js"],"sourcesContent":["import {\r\n  getUserById,\r\n  updatePersonalInformationFetch,\r\n  getOrderByUser,\r\n  updatePassword,\r\n} from \"./FetchApi\";\r\n\r\nexport const logout = () => {\r\n  localStorage.removeItem(\"jwt\");\r\n  localStorage.removeItem(\"cart\");\r\n  localStorage.removeItem(\"wishList\");\r\n  window.location.href = \"/\";\r\n};\r\n\r\nexport const fetchData = async (dispatch) => {\r\n  dispatch({ type: \"loading\", payload: true });\r\n  let userId = JSON.parse(localStorage.getItem(\"jwt\"))\r\n    ? JSON.parse(localStorage.getItem(\"jwt\")).user._id\r\n    : \"\";\r\n  try {\r\n    let responseData = await getUserById(userId);\r\n    setTimeout(() => {\r\n      if (responseData && responseData.User) {\r\n        dispatch({ type: \"userDetails\", payload: responseData.User });\r\n        dispatch({ type: \"loading\", payload: false });\r\n      }\r\n    }, 500);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const fetchOrderByUser = async (dispatch) => {\r\n  dispatch({ type: \"loading\", payload: true });\r\n  let userId = JSON.parse(localStorage.getItem(\"jwt\"))\r\n    ? JSON.parse(localStorage.getItem(\"jwt\")).user._id\r\n    : \"\";\r\n  try {\r\n    let responseData = await getOrderByUser(userId);\r\n    setTimeout(() => {\r\n      if (responseData && responseData.Order) {\r\n        console.log(responseData);\r\n        dispatch({ type: \"OrderByUser\", payload: responseData.Order });\r\n        dispatch({ type: \"loading\", payload: false });\r\n      }\r\n    }, 500);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const updatePersonalInformationAction = async (dispatch, fData) => {\r\n  const formData = {\r\n    uId: fData.id,\r\n    name: fData.name,\r\n    phoneNumber: fData.phone,\r\n  };\r\n  dispatch({ type: \"loading\", payload: true });\r\n  try {\r\n    let responseData = await updatePersonalInformationFetch(formData);\r\n    setTimeout(() => {\r\n      if (responseData && responseData.success) {\r\n        dispatch({ type: \"loading\", payload: false });\r\n        fetchData(dispatch);\r\n      }\r\n    }, 500);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const handleChangePassword = async (fData, setFdata, dispatch) => {\r\n  if (!fData.newPassword || !fData.oldPassword || !fData.confirmPassword) {\r\n    setFdata({\r\n      ...fData,\r\n      error: \"Please provide your all password and a new password\",\r\n    });\r\n  } else if (fData.newPassword !== fData.confirmPassword) {\r\n    setFdata({ ...fData, error: \"Password does't match\" });\r\n  } else {\r\n    const formData = {\r\n      uId: JSON.parse(localStorage.getItem(\"jwt\")).user._id,\r\n      oldPassword: fData.oldPassword,\r\n      newPassword: fData.newPassword,\r\n    };\r\n    dispatch({ type: \"loading\", payload: true });\r\n    try {\r\n      let responseData = await updatePassword(formData);\r\n      if (responseData && responseData.success) {\r\n        setFdata({\r\n          ...fData,\r\n          success: responseData.success,\r\n          error: \"\",\r\n          oldPassword: \"\",\r\n          newPassword: \"\",\r\n          confirmPassword: \"\",\r\n        });\r\n        dispatch({ type: \"loading\", payload: false });\r\n      } else if (responseData.error) {\r\n        dispatch({ type: \"loading\", payload: false });\r\n        setFdata({\r\n          ...fData,\r\n          error: responseData.error,\r\n          success: \"\",\r\n          oldPassword: \"\",\r\n          newPassword: \"\",\r\n          confirmPassword: \"\",\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}